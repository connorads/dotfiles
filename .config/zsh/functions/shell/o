#!/usr/bin/env zsh
# o: open path in native file manager (Finder, Files, etc.)
# Usage: o [path]  (defaults to current directory)
emulate -L zsh

local target="${1:-.}"

if [[ "$OSTYPE" == darwin* ]]; then
  open "$target"
elif command -v xdg-open &>/dev/null; then
  xdg-open "$target"
else
  print -u2 "no file manager opener found"
  return 1
fi

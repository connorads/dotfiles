# tma: attach or create a tmux session (default: main)
local session_name="${1:-main}"
if tmux has-session -t="$session_name" 2>/dev/null; then
  if [[ -z "$TMUX" ]]; then
    tmux attach -t "$session_name"
  else
    tmux switch-client -t "$session_name"
  fi
else
  if [[ -z "$TMUX" ]]; then
    tmux new-session -s "$session_name"
  else
    tmux new-session -ds "$session_name" && tmux switch-client -t "$session_name"
  fi
fi
